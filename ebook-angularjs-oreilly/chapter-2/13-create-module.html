<!DOCTYPE html>
<html lang="en" ng-app="ShoppingModule">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/angularjs/1.0.1/angular.min.js"></script>
</head>
<body>
	<div ng-controller="ShoppingController">
		<h1>Shop!</h1>
		<table>
			<tr ng-repeat="item in items">
				<td>{{item.title}}</td>
				<td>{{item.description}}</td>
				<td>{{item.price | currency}}</td>
			</tr>
		</table>
	</div>

	<script>

		var shoppingModule = angular.module('ShoppingModule', []);

		shoppingModule.factory('Items', function() {
			var items = [];
			items.query = function() {
				return [
					{title: 'Paint pots', description: 'Pots full of paint', price: 3.95},
					{title: 'Polka dots', description: 'Dots with polka', price: 2.95},
					{title: 'Pebbles', description: 'Just little rocks', price: 6.95}
				];
			}

			return items;
		});

		shoppingModule.factory('MoreItems', function() {
			var items = [];
			items.query = function() {
				return [
					{title: 'Paint pots', description: 'Pots full of paint', price: 3.95},
					{title: 'Polka dots', description: 'Dots with polka', price: 2.95},
					{title: 'Pebbles', description: 'Just little rocks', price: 6.95}
				];
			}

			return items;
		});


		function ShoppingController($scope, Items, MoreItems) {
			$scope.items = Items.query().concat(MoreItems.query());
		}
	</script>
</body>
</html>
