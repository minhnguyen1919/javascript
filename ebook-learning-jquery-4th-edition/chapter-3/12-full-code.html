<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Document</title>
	<script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<link rel="stylesheet" href="css/style.css" type="text/css" />
</head>
<body>
	<div id="container">

		<div id="switcher" class="switcher">
			<h3>Style Switcher</h3>
			<button id="switcher-default">
				Default
			</button>
			<button id="switcher-narrow">
				Narrow Column
			</button>
			<button id="switcher-large">
				Large Print
			</button>
		</div>

		<div id="header">
			<h2>A Christmas Carol</h2>
			<h2 class="subtitle">In Prose, Being a Ghost Story of Christmas</h2>
			<div class="author">by Charles Dickens</div>
		</div>

		<div class="chapter" id="chapter-preface">
			<h3 class="chapter-title">Preface</h3>
			<p>I HAVE endeavoured in this Ghostly little book, to raise the Ghost of an Idea, which shall not put my readers out of humour with themselves, with each other, with the season, or with me.  May it haunt their houses pleasantly, and no one wish to lay it.</p>
			<p>Their faithful Friend and Servant,</p>
			<p>C. D.</p>
			<p>December, 1843.</p>
		</div>

		<div class="chapter" id="chapter-1">
			<h3 class="chapter-title">Stave I: Marley's Ghost</h3>
			<p>MARLEY was dead: to begin with. There is no doubt whatever about that. The register of his burial was signed by the clergyman, the clerk, the undertaker, and the chief mourner. Scrooge signed it: and Scrooge's name was good upon 'Change, for anything he chose to put his hand to. Old Marley was as dead as a door-nail.</p>
			<p>Mind! I don't mean to say that I know, of my own knowledge, what there is particularly dead about a door-nail. I might have been inclined, myself, to regard a coffin-nail as the deadest piece of ironmongery in the trade. But the wisdom of our ancestors is in the simile; and my unhallowed hands shall not disturb it, or the Country's done for. You will therefore permit me to repeat, emphatically, that Marley was as dead as a door-nail.</p>
		</div>
	</div>

	<script>
		$(document).ready(function() {
			// Enable hover effect on the style switcher
			$('#switcher').hover(function() {
				$(this).addClass('hover');
			}, function() {
				$(this).removeClass('hover');
			});

			// Allow the style switcher to expand and collapse
			var toggleSwitcher = function(event) {
				if (!$(event.target).is('button')) {
					$('#switcher button').toggleClass('hidden');
				}
			};

			$('#switcher').on('click', toggleSwitcher);

			// Simulate a click so we start in a collapsed state
			$('#switcher').click();

			// The setBodyClass() function changes the page style
			// The style switcher state is also updated
			var setBodyClass = function(className) {
				$('body').removeClass().addClass(className);
				$('#switcher button').removeClass('selected');
				$('#switcher-' + className).addClass('selected');
				$('#switcher').off('click', toggleSwitcher);
				if (className == 'default') {
					$('#switcher').on('click', toggleSwitcher);
				}
			};

			// Begin with the switcher-default button "selected"
			$('#switcher-default').addClass('selected');

			// Map key codes to their corresponding buttons to click
			var triggers = {
				D: 'default',
				N: 'narrow',
				L: 'large'
			};

			// Call setBodyClass() when a button is clicked
			$('#switcher').click(function(event) {
				if ($(event.target).is('button')) {
					var bodyClass = event.target.id.split('-')[1];
					setBodyClass(bodyClass);
				}
			});

			// Call setBodyClass() when a key is pressed
			$(document).keyup(function(event) {
				var key = String.fromCharCode(event.keyCode);
				if (key in triggers) {
					setBodyClass(triggers[key]);
				}
			});
	});
</script>
</body>
</html>
